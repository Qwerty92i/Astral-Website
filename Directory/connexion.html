<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
</head>
<body>
    <form id="loginForm">
         <h1>Se connecter</h1>
         <div class="social-media">
             <p><i class="fab fa-google"></i></p>
             <p><i class="fab fa-youtube"></i></p>
             <p><i class="fab fa-facebook-f"></i></p>
             <p><i class="fab fa-twitter"></i></p>
         </div>
         <p class="choose-email">ou utiliser mon adresse e-mail :</p>
         
         <div class="inputs"> 
             <input type="email" placeholder="Email" id="username">
             <input type="password" placeholder="Mot de passe" id="password">
             </div>

             <p class="inscription">Je n'ai pas de <Span>compte</Span>. Je m'en <span>crée</span> un.</p>
             <div align="center">
                 <button type="submit">Se connecter</button>                
             </div>
    </from> 
    <p id="error" style="color:red;"></p>
    
    <script>
        // Vérifie si l'utilisateur est déjà connecté
    if (localStorage.getItem("isLoggedIn") === "true") {
      window.location.href = "astral.html";
    }

    // Gère la soumission du formulaire
    document.getElementById("loginForm").addEventListener("submit", function(e) {
      e.preventDefault();

      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      // Identifiants valides (exemple)
      const validUser = "matcub2008@gmail.com";
      const validPassword = "1234";

      if (username === validUser && password === validPassword) {
        // Stocke l'état de connexion dans localStorage
        localStorage.setItem("isLoggedIn", "true");
        localStorage.setItem("username", username);

        // Redirection
        window.location.href = "astral.html";
      } else {
        document.getElementById("error").textContent = "Nom d'utilisateur ou mot de passe incorrect.";
      }
    });
    </script>
</body>
</html>